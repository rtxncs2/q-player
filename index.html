
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>q player</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#171717" />
  <style>
    :root {
      /* Premium Color Palette */
      --color-background: #171717;
      --color-card: #282828;
      --color-primary: #1ed760; /* Spotify Green */
      --color-primary-hover: #16a34a;
      --color-text: #f0f0f0;
      --color-text-subtle: #b3b3b3;
      --color-track-hover: #3a3a3a;
      --color-scrollbar: #5a5a5a;
      --shadow-soft: 0 8px 25px rgba(0, 0, 0, 0.7);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif; /* A more modern font */
      background: var(--color-background);
      color: var(--color-text);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      text-align: center;
    }

    /* Player Container - Main Card */
    #player {
      background: var(--color-card);
      padding: 30px;
      border-radius: 20px;
      box-shadow: var(--shadow-soft);
      width: 100%;
      max-width: 450px; /* Slimmer, more mobile-focused look */
      transition: transform 0.3s ease;
    }

    /* Track Title */
    h2 {
      font-size: 1.6rem;
      margin-bottom: 25px;
      word-wrap: break-word;
      font-weight: 600; /* Bolder title */
      color: var(--color-text);
      line-height: 1.3;
    }

    /* Controls - Buttons */
    #controls {
      display: flex;
      justify-content: center;
      gap: 30px; /* Increased gap */
      margin: 30px 0;
    }

    button {
      background: none; /* No background by default */
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
      padding: 0;
      outline: none;
    }

    /* Play/Pause Button - Highlighted */
    #controls button:nth-child(2) {
      background: var(--color-primary);
      box-shadow: 0 4px 15px rgba(30, 215, 96, 0.4);
      width: 70px;
      height: 70px;
    }

    #controls button:nth-child(2):hover {
      background: var(--color-primary-hover);
      transform: scale(1.05);
    }

    /* Skip Buttons - Subtle */
    #controls button:not(:nth-child(2)) {
      color: var(--color-text-subtle);
    }
    #controls button:not(:nth-child(2)):hover {
      color: var(--color-text);
      transform: scale(1.1);
    }


    button:active { transform: scale(0.95); }

    button svg {
      fill: currentColor; /* Use button color */
      width: 28px;
      height: 28px;
    }
    /* Play button icon size adjustment */
    #controls button:nth-child(2) svg {
      fill: var(--color-card); /* Dark icon on bright button */
    }


    /* Seekbar - Gradient and Modern Thumb */
    #seekbar {
      width: 100%;
      height: 6px;
      margin: 10px 0;
      background: #444;
      border-radius: 3px;
      appearance: none;
      cursor: pointer;
    }

    #seekbar::-webkit-slider-runnable-track {
        background: linear-gradient(to right, var(--color-primary) 0%, var(--color-primary) var(--seek-value, 0%), #444 var(--seek-value, 0%), #444 100%);
        height: 6px;
        border-radius: 3px;
    }

    #seekbar::-webkit-slider-thumb {
      appearance: none;
      width: 14px;
      height: 14px;
      background: var(--color-primary);
      border-radius: 50%;
      margin-top: -4px; /* Center the thumb */
      box-shadow: 0 0 5px rgba(30, 215, 96, 0.6);
    }
    
    /* Time display (newly added for premium look) */
    .time-display {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
        color: var(--color-text-subtle);
        margin-top: -5px;
        margin-bottom: 15px;
        user-select: none;
    }

    /* Playlist */
    #playlist {
      list-style: none;
      padding: 0;
      margin: 25px 0 0 0;
      max-height: 280px; /* Slightly taller */
      overflow-y: auto;
      background: #333;
      border-radius: 12px;
      text-align: left;
      border: 1px solid #3a3a3a;
    }

    #playlist li {
      padding: 12px 20px;
      border-bottom: 1px solid #3a3a3a;
      color: var(--color-text-subtle);
      font-size: 0.95rem;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    #playlist li:last-child {
        border-bottom: none;
    }

    #playlist li:hover { 
      background: var(--color-track-hover); 
      color: var(--color-text);
    }

    #playlist li.active {
      background: var(--color-primary);
      color: var(--color-card); /* Dark text on bright active track */
      font-weight: 500;
    }

    /* Scrollbar Styling for a premium feel */
    #playlist::-webkit-scrollbar {
      width: 8px;
    }
    #playlist::-webkit-scrollbar-track {
      background: #333;
      border-radius: 10px;
    }
    #playlist::-webkit-scrollbar-thumb {
      background: var(--color-scrollbar);
      border-radius: 10px;
    }
    #playlist::-webkit-scrollbar-thumb:hover {
        background: #6a6a6a;
    }

    /* Track Info Footer */
    .track-info {
      margin-top: 20px;
      color: var(--color-text-subtle);
      font-size: 0.8rem;
      line-height: 1.6;
    }

    /* Responsive adjustments */
    @media (max-width: 500px) {
      #player { 
        padding: 20px; 
        border-radius: 15px;
      }
      h2 { font-size: 1.4rem; }
      #playlist { max-height: 200px; }
      #controls { gap: 20px; }
      button { width: 50px; height: 50px; }
      #controls button:nth-child(2) { width: 60px; height: 60px; }
    }
  </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="player">
    <h2 id="trackTitle">Premium MP3 Player</h2>
    <audio id="audio" preload="auto"></audio>
    <input type="range" id="seekbar" value="0" max="100" />
    <div class="time-display">
        <span id="currentTime">0:00</span>
        <span id="duration">0:00</span>
    </div>
    <div id="controls">
      <button onclick="prevTrack()" aria-label="Previous">
        <svg viewBox="0 0 24 24"><path d="M6 18V6h2v5.5l7.5-5.5v13L8 12.5V18z"/></svg>
      </button>
      <button onclick="togglePlayPause()" aria-label="Play/Pause">
        <svg id="playPauseIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      </button>
      <button onclick="nextTrack()" aria-label="Next">
        <svg viewBox="0 0 24 24"><path d="M16 6v5.5L8.5 6v13L16 12.5V18h2V6z"/></svg>
      </button>
    </div>
    <ul id="playlist"></ul>
  </div>

  <div class="track-info">
    <span id="trackCount">123 tracks</span><br>
    <span id="totalDuration">468 minutes</span>
  </div>

  <script>
    const tracks = [
      
 {file: "nee kanumo f", src: "https://files.catbox.moe/1kxrcz.m4a" },     
{ file: "onam special mashup 2", src: "https://files.catbox.moe/udnpzw.m4a" },
{ file: "onam special mashup 3", src: "https://files.catbox.moe/urqiix.m4a" },
{ file: "onam special mashup 1", src: "https://files.catbox.moe/9cj3cy.m4a" },


      
      { file: "Uyirin Naadhane", src: "https://files.catbox.moe/fvj65o.m4a" },
      { file: "Thathamma peru", src: "https://files.catbox.moe/pr7ad3.mp3" },
      { file: "Swayamvara Chandrike", src: "https://files.catbox.moe/fgwikp.m4a" },
      { file: "Sun Raha Hai", src: "https://files.catbox.moe/p7oy4t.m4a" },
      { file: "Nilaa paithale", src: "https://files.catbox.moe/9pyyn1.m4a" },
      { file: "Neramay Nilavile", src: "https://files.catbox.moe/9yhp0q.m4a" },
      { file: "Abhi mujh mein", src: "https://files.catbox.moe/aukcf8.m4a" },
      { file: "minni minni", src: "https://files.catbox.moe/kqhno1.m4a" },
      { file: "ottayadi paathayile", src: "https://files.catbox.moe/8t7en1.m4a" },
      { file: "kudajadriyil", src: "https://files.catbox.moe/qd2f0a.m4a" },
      { file: "chaanchaadi aadi", src: "https://files.catbox.moe/nsfdqe.m4a" },
      { file: "mele mele maanam", src: "https://files.catbox.moe/1bmw2q.m4a" },
      { file: "ethrayo janmamayi", src: "https://files.catbox.moe/hmwr9z.m4a" },
      { file: "ghanashyama", src: "https://files.catbox.moe/7fgkot.m4a" },
      { file: "Before I go", src: "https://files.catbox.moe/9l8pjc.mp3" },
      { file: "zombie(sped up)", src: "https://files.catbox.moe/aaswli.mp4" },
      { file: "Nee Akaleyano", src: "https://files.catbox.moe/mwdqz7.mp3" },
      { file: "Kaanal Kaatte", src: "https://files.catbox.moe/1eby5u.mp3" },
      { file: "Kannolam", src: "https://files.catbox.moe/n1obus.mp3" },
      { file: "Ee pooveyilil", src: "https://files.catbox.moe/2kusr6.mp3" },
      { file: "Neela Shalabhame", src: "https://files.catbox.moe/djewuz.mp3" },
      { file: "Priyamullavane", src: "https://files.catbox.moe/igi4mc.mp3" },
      { file: "Chillu jalaka vathilil - Classmates", src: "https://files.catbox.moe/lqg351.mp3" },
      { file: "Enguninnu vanna - Calcutta News", src: "https://files.catbox.moe/1w6aec.mp3" },
      { file: "A Thousand Miles", src: "https://files.catbox.moe/2z5f29.mp3" },
      { file: "Billie Eilish - WILDFLOWER", src: "https://files.catbox.moe/q8ungv.mp3" },
      { file: "Epic Slavic Music - Slavic Queen", src: "https://files.catbox.moe/yoymhs.mp3" },
      { file: "Lost in a Bad Way", src: "https://files.catbox.moe/7dink7.mp3" },
      { file: "t.A.T.u. - ATTSS", src: "https://files.catbox.moe/sc5sys.mp3" },
      { file: "Oru Naalaikkul", src: "https://files.catbox.moe/a2jnw3.mp3" },
      { file: "Pirai Thedum", src: "https://files.catbox.moe/17h277.mp3" },
      { file: "Manasellam Mazhaiye", src: "https://files.catbox.moe/gjh9jm.mp3" },
      { file: "Kangal Irandal", src: "https://files.catbox.moe/b3zi65.mp3" },
      { file: "Moongil Thottam", src: "https://files.catbox.moe/p8fv50.mp3" },
      { file: "Velicha Poove", src: "https://files.catbox.moe/nuyo9a.mp3" },
      { file: "Kadhal Kan Kattudhe", src: "https://files.catbox.moe/l32g5f.mp3" },
      { file: "Kannala Kannala", src: "https://files.catbox.moe/57x0lu.mp3" },
      { file: "Naan Nee", src: "https://files.catbox.moe/kjol4d.mp3" },
      { file: "Yaaro Ivan", src: "https://files.catbox.moe/znzrxd.mp3" },
      { file: "Chennai Sentamizh", src: "https://files.catbox.moe/wf7vm2.mp3" },
      { file: "Kadhal Vaithu", src: "https://files.catbox.moe/19w92b.mp3" },
      { file: "Neeye Neeye", src: "https://files.catbox.moe/u2iwjx.mp3" },
      { file: "Unakkul Naane", src: "https://files.catbox.moe/lsjbv1.mp3" },
      { file: "June Ponal", src: "https://files.catbox.moe/vnpun7.mp3" },
      { file: "Mazhai Varum (Female)", src: "https://files.catbox.moe/xx2eht.mp3" },
      { file: "Ennavale Ennai", src: "https://files.catbox.moe/jllq6n.mp3" },
      { file: "Mudhal Mudhalaaga", src: "https://files.catbox.moe/w7efbs.mp3" },
      { file: "Jilendru Oru Kalavaram", src: "https://files.catbox.moe/256q9a.mp3" },
      { file: "Oru Kili Oru Kilii", src: "https://files.catbox.moe/x3m41r.mp3" },
      { file: "Ennamo Yeadho", src: "https://files.catbox.moe/cael1r.mp3" },
      { file: "Pessamal", src: "https://files.catbox.moe/a3zclq.mp3" },
      { file: "Nenjin Ezhuth", src: "https://files.catbox.moe/eaxisi.mp3" },
      { file: "Ithale Nee", src: "https://files.catbox.moe/hkicn6.mp3" },
      { file: "Pranayame", src: "https://files.catbox.moe/0tk1n8.mp3" },
      { file: "Nee Illai Endraal", src: "https://files.catbox.moe/rct08n.mp3" },
      { file: "Anchu Sundarikal Title Song", src: "https://files.catbox.moe/9il8y9.mp3" },
      { file: "Etho Vazhitharayil", src: "https://files.catbox.moe/01hshi.mp3" },
      { file: "Chenthamara Chundil", src: "https://files.catbox.moe/az0msc.mp3" },
      { file: "Ethetho Swapnamo", src: "https://files.catbox.moe/x8g3y2.mp3" },
      { file: "Nee En Mizhikalil", src: "https://files.catbox.moe/uvjpee.mp3" },
      { file: "Sayyaave", src: "https://files.catbox.moe/cok1kn.mp3" },
      { file: "Edanin Madhunirayum", src: "https://files.catbox.moe/8lx7e0.mp3" },
      { file: "Kaattil Parannirangum", src: "https://files.catbox.moe/h56cn6.mp3" },
      { file: "Vaarthinkalee", src: "https://files.catbox.moe/iek0eg.mp3" },
      { file: "Kanni Malare", src: "https://files.catbox.moe/6zolke.mp3" },
      { file: "Kilivaathil Melle", src: "https://files.catbox.moe/qnzr9l.mp3" },
      { file: "Manjuneeril - Female2", src: "https://files.catbox.moe/6t1s8d.mp3" },
      { file: "Nilapakshi", src: "https://files.catbox.moe/wlxob5.mp3" },
      { file: "Ennuyire Penkiliye", src: "https://files.catbox.moe/jggglm.mp3" },
      { file: "Mazhayil", src: "https://files.catbox.moe/oa465k.mp3" },
      { file: "Neelathaamare Punyam", src: "https://files.catbox.moe/mhqro5.mp3" },
      { file: "Neeyo", src: "https://files.catbox.moe/uansl5.mp3" },
      { file: "Nilaave Nilaave", src: "https://files.catbox.moe/qr7zbv.mp3" },
      { file: "Oh My Julie", src: "https://files.catbox.moe/048ium.mp3" },
      { file: "Ormakal Verodum", src: "https://files.catbox.moe/t8z15l.mp3" },
      { file: "Njan Varumee", src: "https://files.catbox.moe/sqdywg.mp3" },
      { file: "Kinavil", src: "https://files.catbox.moe/l9qeu5.mp3" },
      { file: "Rendu Kaadhal", src: "https://files.catbox.moe/xtdg2h.mp3" },
      { file: "Raa Thaarame", src: "https://files.catbox.moe/44rqis.mp3" },
      { file: "Paattil Ee Paattil", src: "https://files.catbox.moe/vwefv7.mp3" },
      { file: "Oru Raapoo", src: "https://files.catbox.moe/3k4ad5.mp3" },
      { file: "Oro Shwasavum", src: "https://files.catbox.moe/uuvang.mp3" },
      { file: "Zita's Lullaby", src: "https://files.catbox.moe/5eucle.mp3" },
      { file: "Neeyam Thanalinu (Duet)", src: "https://files.catbox.moe/y11pt9.mp3" },
      { file: "Priyankari", src: "https://files.catbox.moe/4pea06.mp3" },
      { file: "Oh God", src: "https://files.catbox.moe/30266w.mp3" },
      { file: "Nila Veyilil", src: "https://files.catbox.moe/1tbd2c.mp3" },
      { file: "Oho Nenjil", src: "https://files.catbox.moe/1p2sim.mp3" },
      { file: "Rithu Shalabhame Duet", src: "https://files.catbox.moe/oqo8k0.mp3" },
      { file: "Lolalolamaay", src: "https://files.catbox.moe/lbijqw.mp3" },
      { file: "Tune Jo Na Kaha ", src: "https://files.catbox.moe/ttlaq5.mp3" },
      { file: "Kaanamullal", src: "https://files.catbox.moe/xdzb70.mp3" },
      { file: "Ennum Ninne", src: "https://files.catbox.moe/ddz4te.mp3" },
      { file: "Venmegham", src: "https://files.catbox.moe/5z04uv.mp3" },
      { file: "Pulari Pon Prave", src: "https://files.catbox.moe/6v6x5e.mp3" },
      { file: "Aaromal", src: "https://files.catbox.moe/a2g7yc.mp3" },
      { file: "Vellil Paravakalai", src: "https://files.catbox.moe/5fm85k.mp3" },
      { file: "Chinni Chinni", src: "https://files.catbox.moe/zmvvan.mp3" },
      { file: "Камин TikTok Remix", src: "https://files.catbox.moe/amw445.mp3" },
      { file: "Penne Penne", src: "https://files.catbox.moe/tubhkx.mp3" },
      { file: "neeyen omal punchiri", src: "https://files.catbox.moe/ce9eq6.mp4" },
      { file: "kombil kombil - duet", src: "https://files.catbox.moe/qcn9gv.mp3" },
      { file: "La Bouche - Sweet Dreams", src: "https://files.catbox.moe/mvqbd5.m4a" },
      { file: "Thazhvaram", src: "https://files.catbox.moe/3mqwrp.mp3" },
      { file: "Kaattuvannu Chaare", src: "https://files.catbox.moe/w8bcic.mp3" },
      { file: "Imakal", src: "https://files.catbox.moe/v7j8wb.mp3" },
      { file: "Pranayamanithu", src: "https://files.catbox.moe/j98mpb.mp3" },
      { file: "Aalum Thee", src: "https://files.catbox.moe/0spbl7.mp3" },
      { file: "Maaran", src: "https://files.catbox.moe/3cbik1.mp3" },
      { file: "Vennilavin Thaliralle", src: "https://files.catbox.moe/0v2fzg.mp3" },
      { file: "Neer Palunkin - Vegam", src: "https://files.catbox.moe/cqc6b1.mp3" },
      { file: "Orbit", src: "https://files.catbox.moe/2wq806.mp3" },
      { file: "Rebirth", src: "https://files.catbox.moe/pcqsve.mp3" },
      { file: "Kasavinal", src: "https://files.catbox.moe/x1s0cz.mp3" },
      { file: "Yaanam", src: "https://files.catbox.moe/7v41i5.mp3" },
      { file: "Mulchedi", src: "https://files.catbox.moe/pp8s19.mp3" },
      { file: "Ee Raavum", src: "https://files.catbox.moe/cqkshs.mp3" },
      { file: "Kandu Ravithalil", src: "https://files.catbox.moe/oywxfl.mp3" }
    ];

    const audio = document.getElementById('audio');
    const seekbar = document.getElementById('seekbar');
    const playlist = document.getElementById('playlist');
    const playPauseIcon = document.getElementById('playPauseIcon');
    const trackTitle = document.getElementById('trackTitle');
    const currentTimeSpan = document.getElementById('currentTime');
    const durationSpan = document.getElementById('duration');
    let currentTrack = 0;
    let isPlaying = false;

    // Helper to format time (e.g., 150 seconds -> 2:30)
    function formatTime(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = Math.floor(seconds % 60);
      return `${min}:${sec < 10 ? '0' : ''}${sec}`;
    }
    
    // Updates the seekbar's gradient to show progress
    function updateSeekbarProgress() {
        const value = (audio.currentTime / audio.duration) * 100 || 0;
        seekbar.style.setProperty('--seek-value', `${value}%`);
    }

    function updateTrackTitle() {
      trackTitle.textContent = tracks[currentTrack].file.replace('.mp3', '').replace('.m4a', '').replace('.mp4', '');
    }

    function updatePlaylistUI() {
      playlist.querySelectorAll('li').forEach((li, index) => {
        li.classList.toggle('active', index === currentTrack);
        if (index === currentTrack) {
          li.scrollIntoView({ behavior: "smooth", block: "nearest" });
        }
      });
    }

    function loadTrack(index, autoplay = false) {
      currentTrack = index;
      audio.src = tracks[index].src;
      updateTrackTitle();
      updatePlaylistUI();
      if (autoplay) {
          // Play will happen after 'loadedmetadata' fires
      } else {
          // Reset time displays if not autoplaying
          currentTimeSpan.textContent = '0:00';
          durationSpan.textContent = '0:00';
          seekbar.value = 0;
          updateSeekbarProgress();
          pauseTrack(); // Ensure UI shows paused state
      }
    }

    function playTrack() {
      audio.play().catch(e => console.error("Play failed:", e)); // Add error handling for security
      isPlaying = true;
      playPauseIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>';
    }

    function pauseTrack() {
      audio.pause();
      isPlaying = false;
      playPauseIcon.innerHTML = '<path d="M8 5v14l11-7z"/>';
    }

    function togglePlayPause() {
      isPlaying ? pauseTrack() : playTrack();
    }

    function nextTrack() {
      currentTrack = (currentTrack + 1) % tracks.length;
      loadTrack(currentTrack, true);
    }

    function prevTrack() {
      currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
      loadTrack(currentTrack, true);
    }

    // Event Listeners for time and seekbar
    audio.addEventListener('timeupdate', () => {
      const progress = (audio.currentTime / audio.duration) * 100 || 0;
      seekbar.value = progress;
      updateSeekbarProgress();
      currentTimeSpan.textContent = formatTime(audio.currentTime);
    });
    
    audio.addEventListener('loadedmetadata', () => {
        durationSpan.textContent = formatTime(audio.duration);
        if (isPlaying) {
            // This handles autoplay logic after metadata is loaded
            playTrack();
        }
    });


    seekbar.addEventListener('input', () => {
      audio.currentTime = (seekbar.value / 100) * audio.duration;
      updateSeekbarProgress();
    });

    audio.addEventListener('ended', () => {
      nextTrack();
    });

    // Create playlist items
    tracks.forEach((track, index) => {
      const li = document.createElement('li');
      li.textContent = track.file.replace('.mp3', '').replace('.m4a', '').replace('.mp4', '');
      li.addEventListener('click', () => loadTrack(index, true));
      playlist.appendChild(li);
    });

    // Initial load
    loadTrack(currentTrack);

    // Register service worker for PWA (kept from original)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').catch(error => {
          console.error("Service Worker registration failed: ", error);
      });
    }
  </script>
</body>
</html>
